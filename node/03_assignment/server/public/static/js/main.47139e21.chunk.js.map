{"version":3,"sources":["utils/localStorageConfig.js","components/PrivateRoute/PrivateRoute.js","contexts/UserContext.js","components/Navbar/Nav.js","contexts/AuthContext.js","pages/Auth/SignUp.js","pages/Auth/SignIn.js","pages/Auth/ForgotPassword.js","utils/formatDate.js","components/ProfileDetails/ProfileDetails.js","contexts/LoadContext.js","components/ProfileDetails/ActiveLoad.js","pages/Profile/Profile.js","pages/Auth/ChangePassword.js","contexts/TruckContext.js","components/Forms/TruckForm.js","pages/Truck/CreateTruck.js","pages/Truck/EditTruck.js","pages/Truck/TruckList.js","components/Forms/LoadForm.js","pages/Load/CreateLoad.js","pages/Load/EditLoad.js","pages/Load/LoadList.js","pages/Load/ShippingInfo.js","App.js","index.js"],"names":["getToken","localStorage","getItem","PrivateRoute","Component","component","rest","isSignedIn","render","props","to","UserContext","React","createContext","UserProvider","children","getUser","token","a","axios","get","headers","Authorization","deleteUser","delete","changePassword","oldPassword","newPassword","patch","getUserEmail","data","user","email","getUserEmailById","id","getUserRole","role","values","Provider","value","useUser","useContext","Nav","pathname","useLocation","useState","location","setLocation","history","useHistory","setRole","useEffect","getRole","className","includes","onClick","removeItem","push","AuthContext","AuthProvider","signup","password","post","signin","forgotPassword","useAuth","SignUp","emailRef","useRef","passwordRef","roleRef","success","setSuccess","error","setError","handleSubmit","e","preventDefault","current","message","onSubmit","type","ref","required","href","SignIn","jwt_token","setItem","ForgotPassword","loading","setLoading","disabled","formatDate","date","Date","toLocaleDateString","hour","minute","year","month","day","ProfileDetails","setUser","getData","deleteUserHandler","_id","created_date","tabIndex","LoadContext","LoadProvider","getLoads","createLoad","load","getActiveLoad","iterateToNextState","getLoadById","editLoad","newLoad","put","deleteLoad","postLoad","getShippingInfo","useLoad","ActiveLoad","setLoad","iterateHandle","window","reload","getLoad","name","created_by","assigned_to","status","state","pickup_address","delivery_address","payload","dimensions","width","height","length","Profile","userRole","setUserRole","ChangePassword","oldPasswordRef","newPasswordRef","TruckContext","TruckProvider","getTrucks","createTruck","getTruckById","editTruck","deleteTruck","assignTruck","useTruck","TruckForm","title","truckRef","CreateTruck","setTimeout","EditTruck","setType","useParams","truck","getTruckType","TruckList","trucks","setTrucks","userEmail","setUserEmail","deleteHandler","assignHandler","fetchTrucks","map","header","idx","LoadForm","setName","setPayload","pickup","setPickup","delivery","setDelivery","setWidth","setHeight","setLength","isEdit","onChange","target","Number","CreateLoad","EditLoad","LoadList","loads","setLoads","creators","setCreators","drivers","setDrivers","postLoadHandler","driver_found","forEach","shipperEmail","emailShipper","prev","driverEmail","emailDriver","scope","ShippingInfo","setTruck","truckData","logs","log","time","App","setIsSignedIn","path","exact","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.47139e21.chunk.js","sourcesContent":["export const saveToken = (token) => {\r\n\tlocalStorage.setItem('token', token)\r\n}\r\n\r\nexport const getToken = () => localStorage.getItem('token')\r\n\r\nexport const deleteToken = () => localStorage.removeItem('token')\r\n","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\nimport { getToken } from '../../utils/localStorageConfig'\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n\tconst isSignedIn = getToken()\r\n\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\trender={(props) => {\r\n\t\t\t\treturn isSignedIn ? <Component {...props} /> : <Redirect to='/signin' />\r\n\t\t\t}}></Route>\r\n\t)\r\n}\r\n\r\nexport default PrivateRoute\r\n","import React, { useContext } from 'react'\r\nimport axios from 'axios'\r\n\r\nconst UserContext = React.createContext()\r\n\r\nexport const UserProvider = ({ children }) => {\r\n\t// functions\r\n\tconst getUser = async (token) => {\r\n\t\treturn await axios.get('/api/users/me', {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `JWT ${token}`,\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n\r\n\tconst deleteUser = async (token) => {\r\n\t\treturn await axios.delete('/api/users/me', {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `JWT ${token}`,\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n\r\n\tconst changePassword = async (token, oldPassword, newPassword) => {\r\n\t\treturn await axios.patch(\r\n\t\t\t'/api/users/me/password',\r\n\t\t\t{ oldPassword, newPassword },\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `JWT ${token}`,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\r\n\tconst getUserEmail = async (token) => {\r\n\t\tconst { data } = await getUser(token)\r\n\t\treturn data.user.email\r\n\t}\r\n\r\n\tconst getUserEmailById = async (token, id) => {\r\n\t\treturn await axios.get(`/api/service/users/email/${id}`, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `JWT ${token}`,\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n\r\n\tconst getUserRole = async (token) => {\r\n\t\tconst { data } = await getUser(token)\r\n\t\treturn data.user.role\r\n\t}\r\n\r\n\tconst values = {\r\n\t\tgetUser,\r\n\t\tdeleteUser,\r\n\t\tchangePassword,\r\n\t\tgetUserEmail,\r\n\t\tgetUserRole,\r\n\t\tgetUserEmailById,\r\n\t}\r\n\r\n\treturn <UserContext.Provider value={values}> {children}</UserContext.Provider>\r\n}\r\n\r\nexport const useUser = () => useContext(UserContext)\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useHistory, useLocation, Link } from 'react-router-dom'\r\nimport { getToken, deleteToken } from '../../utils/localStorageConfig'\r\nimport { useUser } from '../../contexts/UserContext'\r\n\r\nconst Nav = () => {\r\n\tconst pathname = useLocation().pathname\r\n\tconst [location, setLocation] = useState(pathname)\r\n\tconst history = useHistory()\r\n\tconst { getUser } = useUser()\r\n\tconst [role, setRole] = useState('')\r\n\r\n\tuseEffect(() => {\r\n\t\tconst getRole = async () => {\r\n\t\t\tconst { data } = await getUser(getToken())\r\n\t\t\tsetRole(data.user.role)\r\n\t\t}\r\n\t\tgetRole()\r\n\t}, [getUser])\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLocation(pathname)\r\n\t}, [pathname])\r\n\r\n\tconst handleLogOut = () => {\r\n\t\tdeleteToken()\r\n\t\thistory.push('/signin')\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='bg-dark py-3 mb-4'>\r\n\t\t\t{role && (\r\n\t\t\t\t<nav className='container navbar navbar-expand-md navbar-dark bg-dark d-flex justify-content-between'>\r\n\t\t\t\t\t<h4 className='text-light fw-bold'>Speedy Truck</h4>\r\n\r\n\t\t\t\t\t<ul className='navbar-nav mb-2 mb-lg-0'>\r\n\t\t\t\t\t\t<li className='nav-item fs-5'>\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tclassName={`nav-link ${location === '/' || location.includes('/profile') ? 'active' : ''}`}\r\n\t\t\t\t\t\t\t\taria-current='page'\r\n\t\t\t\t\t\t\t\tto='/'>\r\n\t\t\t\t\t\t\t\tProfile\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</li>\r\n\r\n\t\t\t\t\t\t{role === 'DRIVER' && (\r\n\t\t\t\t\t\t\t<li className='nav-item fs-5 dropdown'>\r\n\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\tclassName={`nav-link  dropdown-toggle ${location.includes('/trucks') ? 'active' : ''}`}\r\n\t\t\t\t\t\t\t\t\tto='#'\r\n\t\t\t\t\t\t\t\t\tid='dropdownMenuTrucks'\r\n\t\t\t\t\t\t\t\t\tdata-bs-toggle='dropdown'\r\n\t\t\t\t\t\t\t\t\taria-expanded='false'>\r\n\t\t\t\t\t\t\t\t\tTrucks\r\n\t\t\t\t\t\t\t\t</Link>\r\n\r\n\t\t\t\t\t\t\t\t<ul className='dropdown-menu dropdown-menu-dark' aria-labelledby='dropdownMenuTrucks'>\r\n\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t<Link className='dropdown-item' to='/trucks/create'>\r\n\t\t\t\t\t\t\t\t\t\t\tCreate truck\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t<Link className='dropdown-item' to='/trucks/list'>\r\n\t\t\t\t\t\t\t\t\t\t\tTruck list\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t<li className='nav-item fs-5 dropdown'>\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tclassName={`nav-link dropdown-toggle ${location.includes('/loads') ? 'active' : ''}`}\r\n\t\t\t\t\t\t\t\tto='#'\r\n\t\t\t\t\t\t\t\tid='dropdownMenuLoads'\r\n\t\t\t\t\t\t\t\tdata-bs-toggle='dropdown'\r\n\t\t\t\t\t\t\t\taria-expanded='false'>\r\n\t\t\t\t\t\t\t\tLoads\r\n\t\t\t\t\t\t\t</Link>\r\n\r\n\t\t\t\t\t\t\t<ul className='dropdown-menu dropdown-menu-dark' aria-labelledby='dropdownMenuLoads'>\r\n\t\t\t\t\t\t\t\t{role === 'SHIPPER' && (\r\n\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t<Link className='dropdown-item' to='/loads/create'>\r\n\t\t\t\t\t\t\t\t\t\t\tCreate load\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<Link className='dropdown-item' to='/loads/list'>\r\n\t\t\t\t\t\t\t\t\t\tLoad list\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li className='nav-item fs-5'>\r\n\t\t\t\t\t\t\t<Link className='nav-link' to='#' onClick={handleLogOut}>\r\n\t\t\t\t\t\t\t\tLog Out\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</nav>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Nav\r\n","import React, { useContext } from 'react'\r\nimport axios from 'axios'\r\n\r\nconst AuthContext = React.createContext()\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n\t// functions\r\n\tconst signup = async (email, password, role) => {\r\n\t\treturn await axios.post(`/api/auth/register`, { email, password, role })\r\n\t}\r\n\r\n\tconst signin = async (email, password) => {\r\n\t\treturn await axios.post(`/api/auth/login`, { email, password })\r\n\t}\r\n\r\n\tconst forgotPassword = async (email) => {\r\n\t\treturn await axios.post('/api/auth/forgot_password', { email })\r\n\t}\r\n\r\n\tconst values = {\r\n\t\tsignup,\r\n\t\tsignin,\r\n\t\tforgotPassword,\r\n\t}\r\n\r\n\treturn <AuthContext.Provider value={values}>{children}</AuthContext.Provider>\r\n}\r\n\r\nexport const useAuth = () => useContext(AuthContext)\r\n","import React, { useRef, useState } from 'react'\r\nimport { useAuth } from '../../contexts/AuthContext'\r\n\r\nconst SignUp = () => {\r\n\tconst emailRef = useRef(null)\r\n\tconst passwordRef = useRef(null)\r\n\tconst roleRef = useRef(null)\r\n\tconst { signup } = useAuth()\r\n\tconst [success, setSuccess] = useState('')\r\n\tconst [error, setError] = useState('')\r\n\r\n\tconst handleSubmit = async (e) => {\r\n\t\te.preventDefault()\r\n\r\n\t\tconst email = emailRef.current.value\r\n\t\tconst password = passwordRef.current.value\r\n\t\tconst role = roleRef.current.value\r\n\r\n\t\ttry {\r\n\t\t\tconst { data } = await signup(email, password, role)\r\n\t\t\tsetSuccess(data.message)\r\n\t\t\tsetError('')\r\n\t\t} catch (error) {\r\n\t\t\tsetError(error.message)\r\n\t\t\tsetSuccess('')\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='d-flex flex-column align-items-center justify-content-center sign_in_body'>\r\n\t\t\t<div className='container my-5 sign_in_container'>\r\n\t\t\t\t<h2 className='text-center'>Sign up</h2>\r\n\r\n\t\t\t\t<form className='form my-5' onSubmit={handleSubmit}>\r\n\t\t\t\t\t<div className='mb-3 input-group'>\r\n\t\t\t\t\t\t<span className='input-group-text' id='addon'>\r\n\t\t\t\t\t\t\tEmail\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<input type='email' className='form-control' id='usernameInput' ref={emailRef} required />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='mb-3 input-group'>\r\n\t\t\t\t\t\t<span className='input-group-text' id='addon'>\r\n\t\t\t\t\t\t\tPassword\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<input type='password' className='form-control' id='passwordInput' ref={passwordRef} required />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='mb-3 input-group'>\r\n\t\t\t\t\t\t<span className='input-group-text' id='addon'>\r\n\t\t\t\t\t\t\tRole\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<select className='form-select' aria-label='Default select example' ref={roleRef}>\r\n\t\t\t\t\t\t\t<option value='DRIVER'>Driver</option>\r\n\t\t\t\t\t\t\t<option value='SHIPPER'>Shipper</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<button type='submit' className='btn btn-primary mb-3'>\r\n\t\t\t\t\t\tSign Up\r\n\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t{success && (\r\n\t\t\t\t\t\t<div className='text-small form-alert text-center text-success'>\r\n\t\t\t\t\t\t\t{success} <br /> Now go <a href='/signin'>here</a> to sign in\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{error && <div className='text-small form-alert text-center text-danger'>{error}</div>}\r\n\t\t\t\t</form>\r\n\r\n\t\t\t\t<p className='text-center'>\r\n\t\t\t\t\tAlready have an acoount? <a href='/signin'>Sign in!</a>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default SignUp\r\n","import React, { useState, useRef } from 'react'\r\nimport { useHistory, Link } from 'react-router-dom'\r\nimport { useAuth } from '../../contexts/AuthContext'\r\nimport { saveToken } from '../../utils/localStorageConfig'\r\n\r\nconst SignIn = () => {\r\n\tconst emailRef = useRef(null)\r\n\tconst passwordRef = useRef(null)\r\n\tconst { signin } = useAuth()\r\n\tconst [error, setError] = useState('')\r\n\tconst history = useHistory()\r\n\r\n\tconst handleSubmit = async (e) => {\r\n\t\te.preventDefault()\r\n\r\n\t\tconst email = emailRef.current.value\r\n\t\tconst password = passwordRef.current.value\r\n\r\n\t\ttry {\r\n\t\t\t// login user and save the token\r\n\t\t\tconst { data } = await signin(email, password)\r\n\t\t\tsaveToken(data.jwt_token)\r\n\t\t\thistory.push('/')\r\n\t\t} catch (error) {\r\n\t\t\tsetError('Wrong email or password')\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='d-flex flex-column align-items-center justify-content-center sign_in_body'>\r\n\t\t\t<div className='container my-5 sign_in_container'>\r\n\t\t\t\t<h2 className='text-center'>Sign in</h2>\r\n\r\n\t\t\t\t<form className='mt-5 mb-3 form' onSubmit={handleSubmit}>\r\n\t\t\t\t\t<div className='mb-3 input-group'>\r\n\t\t\t\t\t\t<span className='input-group-text' id='addon'>\r\n\t\t\t\t\t\t\tEmail\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<input type='email' className='form-control' id='usernameInput' ref={emailRef} required />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='mb-3 input-group'>\r\n\t\t\t\t\t\t<span className='input-group-text' id='addon'>\r\n\t\t\t\t\t\t\tPassword\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<input type='password' className='form-control' id='passwordInput' ref={passwordRef} required />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<button type='submit' className='btn btn-primary mb-3'>\r\n\t\t\t\t\t\tSign In\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t{error && <div className='text-small form-alert text-center text-danger'>{error}</div>}\r\n\t\t\t\t</form>\r\n\r\n\t\t\t\t<p className='text-center'>\r\n\t\t\t\t\tNeed an account? <Link to='/signup'>Sign up</Link>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className='text-center'>\r\n\t\t\t\t\t<Link to='/forgotpassword'>Forgot your password?</Link>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default SignIn\r\n","import React, { useState, useRef } from 'react'\r\nimport { useAuth } from '../../contexts/AuthContext'\r\n\r\nconst ForgotPassword = () => {\r\n\tconst emailRef = useRef(null)\r\n\tconst { forgotPassword } = useAuth()\r\n\tconst [success, setSuccess] = useState('')\r\n\tconst [error, setError] = useState('')\r\n\tconst [loading, setLoading] = useState(false)\r\n\r\n\tconst handleSubmit = async (e) => {\r\n\t\te.preventDefault()\r\n\t\tconst email = emailRef.current.value\r\n\t\tsetLoading(true)\r\n\r\n\t\ttry {\r\n\t\t\t// login user and save the token\r\n\t\t\tconst { data } = await forgotPassword(email)\r\n\t\t\tsetError('')\r\n\t\t\tsetSuccess(data.message)\r\n\t\t} catch (error) {\r\n\t\t\tsetSuccess('')\r\n\t\t\tsetError('Wrong email or password')\r\n\t\t\tsetLoading(false)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='d-flex flex-column align-items-center justify-content-center sign_in_body'>\r\n\t\t\t<div className='container my-5 sign_in_container'>\r\n\t\t\t\t<h2 className='text-center'>Restore you password</h2>\r\n\r\n\t\t\t\t<form className='mt-5 form' onSubmit={handleSubmit}>\r\n\t\t\t\t\t<div className='mb-3 input-group'>\r\n\t\t\t\t\t\t<span className='input-group-text' id='addon'>\r\n\t\t\t\t\t\t\tEmail\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<input type='email' className='form-control' id='usernameInput' ref={emailRef} required />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<button type='submit' className='btn btn-primary mb-3' disabled={loading}>\r\n\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t{success && (\r\n\t\t\t\t\t\t<div className='text-small form-alert text-center text-success'>\r\n\t\t\t\t\t\t\t{success} <br /> Now go <a href='/signin'>here</a> to sign in\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{error && <div className='text-small form-alert text-center text-danger'>{error}</div>}\r\n\t\t\t\t</form>\r\n\r\n\t\t\t\t<p className='text-center mt-3'>\r\n\t\t\t\t\tNeed an account? <a href='/signup'>Sign up</a>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ForgotPassword\r\n","export const formatDate = (date) => {\r\n\tdate = new Date(date)\r\n\tconst options = { hour: '2-digit', minute: '2-digit', year: 'numeric', month: 'short', day: 'numeric' }\r\n\treturn date.toLocaleDateString('en-US', options)\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\n\r\n// utils\r\nimport { useUser } from '../../contexts/UserContext'\r\nimport { formatDate } from '../../utils/formatDate'\r\nimport { getToken } from '../../utils/localStorageConfig'\r\n\r\nconst ProfileDetails = () => {\r\n\tconst [user, setUser] = useState(null)\r\n\tconst { getUser, deleteUser } = useUser()\r\n\tconst [error, setError] = useState('')\r\n\tconst history = useHistory()\r\n\r\n\tuseEffect(() => {\r\n\t\tconst getData = async () => {\r\n\t\t\tconst { data } = await getUser(getToken())\r\n\t\t\tsetUser(data.user)\r\n\t\t}\r\n\r\n\t\tgetData()\r\n\t}, [getUser])\r\n\r\n\tconst deleteUserHandler = async () => {\r\n\t\ttry {\r\n\t\t\tawait deleteUser(getToken())\r\n\t\t\tlocalStorage.removeItem('token')\r\n\t\t\thistory.push('/signin')\r\n\t\t} catch (error) {\r\n\t\t\tsetError('Something went wrong. Please try again later.')\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{user && (\r\n\t\t\t\t<div className='container mx-5'>\r\n\t\t\t\t\t<h3 className='text-center fw-bold my-5'>Detailed Profile Info</h3>\r\n\r\n\t\t\t\t\t{/* detailed info */}\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<p className='fs-5'>\r\n\t\t\t\t\t\t\t<span className='fw-bold'>User ID:</span> {user._id}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className='fs-5'>\r\n\t\t\t\t\t\t\t<span className='fw-bold'>Email:</span> {user.email}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className='fs-5'>\r\n\t\t\t\t\t\t\t<span className='fw-bold'>Role:</span> {user.role}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className='fs-5'>\r\n\t\t\t\t\t\t\t<span className='fw-bold'>Created date:</span> {formatDate(user.created_date)}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/* controllers */}\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Link className='btn btn-outline-primary edit me-3' to='/profile/changepassword'>\r\n\t\t\t\t\t\t\tEdit Password\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link className='btn btn-outline-danger' to='#' data-bs-toggle='modal' data-bs-target='#exampleModal'>\r\n\t\t\t\t\t\t\tDelete Profile\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/* popup modal */}\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName='modal fade'\r\n\t\t\t\t\t\tid='exampleModal'\r\n\t\t\t\t\t\ttabIndex='-1'\r\n\t\t\t\t\t\taria-labelledby='exampleModalLabel'\r\n\t\t\t\t\t\taria-hidden='true'>\r\n\t\t\t\t\t\t<div className='modal-dialog'>\r\n\t\t\t\t\t\t\t<div className='modal-content'>\r\n\t\t\t\t\t\t\t\t<div className='modal-header'>\r\n\t\t\t\t\t\t\t\t\t<h5 className='modal-title' id='exampleModalLabel'>\r\n\t\t\t\t\t\t\t\t\t\tProfile deletion\r\n\t\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t\t\t<button type='button' className='btn-close' data-bs-dismiss='modal' aria-label='Close'></button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='modal-body'>Do you really want to delete your profile?</div>\r\n\t\t\t\t\t\t\t\t<div className='modal-footer'>\r\n\t\t\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary' data-bs-dismiss='modal'>\r\n\t\t\t\t\t\t\t\t\t\tClose\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\tclassName='btn btn-danger delete'\r\n\t\t\t\t\t\t\t\t\t\tdata-bs-dismiss='modal'\r\n\t\t\t\t\t\t\t\t\t\tonClick={deleteUserHandler}>\r\n\t\t\t\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{error && <div className='text-small form-alert text-center text-danger mt-5'>{error}</div>}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default ProfileDetails\r\n","import React, { useContext } from 'react'\r\nimport axios from 'axios'\r\n\r\nconst LoadContext = React.createContext()\r\n\r\nexport const LoadProvider = ({ children }) => {\r\n\t// functions\r\n\tconst getLoads = async (token) => {\r\n\t\treturn await axios.get('/api/loads', {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `JWT ${token}`,\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n\r\n\tconst createLoad = async (token, load) => {\r\n\t\treturn await axios.post('/api/loads', load, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `JWT ${token}`,\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n\r\n\tconst getActiveLoad = async (token) => {\r\n\t\treturn await axios.get('/api/loads/active', {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `JWT ${token}`,\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n\r\n\tconst iterateToNextState = async (token) => {\r\n\t\treturn await axios.patch(\r\n\t\t\t'/api/loads/active/state',\r\n\t\t\t{},\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `JWT ${token}`,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\r\n\tconst getLoadById = async (token, id) => {\r\n\t\treturn await axios.get(`/api/loads/${id}`, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `JWT ${token}`,\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n\r\n\tconst editLoad = async (token, newLoad, id) => {\r\n\t\treturn await axios.put(`/api/loads/${id}`, newLoad, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `JWT ${token}`,\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n\r\n\tconst deleteLoad = async (token, id) => {\r\n\t\treturn await axios.delete(`/api/loads/${id}`, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `JWT ${token}`,\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n\r\n\tconst postLoad = async (token, id) => {\r\n\t\treturn await axios.post(\r\n\t\t\t`/api/loads/${id}/post`,\r\n\t\t\t{},\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `JWT ${token}`,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\r\n\tconst getShippingInfo = async (token, id) => {\r\n\t\treturn await axios.get(`/api/loads/${id}/shipping_info`, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `JWT ${token}`,\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n\r\n\tconst values = {\r\n\t\tgetLoads,\r\n\t\tcreateLoad,\r\n\t\tgetActiveLoad,\r\n\t\titerateToNextState,\r\n\t\tgetLoadById,\r\n\t\teditLoad,\r\n\t\tdeleteLoad,\r\n\t\tpostLoad,\r\n\t\tgetShippingInfo,\r\n\t}\r\n\treturn <LoadContext.Provider value={values}>{children}</LoadContext.Provider>\r\n}\r\n\r\nexport const useLoad = () => useContext(LoadContext)\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useLoad } from '../../contexts/LoadContext'\r\nimport { getToken } from '../../utils/localStorageConfig'\r\nimport { formatDate } from '../../utils/formatDate'\r\n\r\nconst ActiveLoad = () => {\r\n\tconst [load, setLoad] = useState(null)\r\n\tconst { getActiveLoad, iterateToNextState } = useLoad()\r\n\tconst token = getToken()\r\n\r\n\tconst iterateHandle = async () => {\r\n\t\tawait iterateToNextState(token)\r\n\t\twindow.location.reload()\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tconst getLoad = async () => {\r\n\t\t\tconst { data } = await getActiveLoad(token)\r\n\t\t\tsetLoad(data.load)\r\n\t\t}\r\n\t\tgetLoad()\r\n\t}, [getActiveLoad, token])\r\n\r\n\treturn (\r\n\t\t<div className='mt-5'>\r\n\t\t\t{load ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<h3 className='text-center fw-bold mb-5'>Your active load</h3>\r\n\t\t\t\t\t<div className='d-flex justify-content-between mx-5 pb-5'>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className='fs-5'>\r\n\t\t\t\t\t\t\t\t<span className='fw-bold'>Name: </span>\r\n\t\t\t\t\t\t\t\t{load.name}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className='fs-5'>\r\n\t\t\t\t\t\t\t\t<span className='fw-bold'>Created by: </span>\r\n\t\t\t\t\t\t\t\t{load.created_by}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className='fs-5'>\r\n\t\t\t\t\t\t\t\t<span className='fw-bold'>Driver: </span>\r\n\t\t\t\t\t\t\t\t{load.assigned_to}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className='fs-5'>\r\n\t\t\t\t\t\t\t\t<span className='fw-bold'>Status: </span>\r\n\t\t\t\t\t\t\t\t{load.status}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className='fs-5'>\r\n\t\t\t\t\t\t\t\t<span className='fw-bold'>State: </span>\r\n\t\t\t\t\t\t\t\t{load.state}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<button className='btn btn-outline-primary' onClick={iterateHandle}>\r\n\t\t\t\t\t\t\t\tIterate to the next Load state\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className='fs-5'>\r\n\t\t\t\t\t\t\t\t<span className='fw-bold'>Pickup Address: </span>\r\n\t\t\t\t\t\t\t\t{load.pickup_address}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className='fs-5'>\r\n\t\t\t\t\t\t\t\t<span className='fw-bold'>Delivery Address: </span>\r\n\t\t\t\t\t\t\t\t{load.delivery_address}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className='fs-5'>\r\n\t\t\t\t\t\t\t\t<span className='fw-bold'>Payload: </span>\r\n\t\t\t\t\t\t\t\t{load.payload}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className='fs-5'>\r\n\t\t\t\t\t\t\t\t<span className='fw-bold'>Dimensions (W-H-L): </span>\r\n\t\t\t\t\t\t\t\t{`${load.dimensions.width}-${load.dimensions.height}-${load.dimensions.length}`}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className='fs-5'>\r\n\t\t\t\t\t\t\t\t<span className='fw-bold'>Created date: </span>\r\n\t\t\t\t\t\t\t\t{formatDate(load.created_date)}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t<h5 className='text-center fw-bold'>You currently have no active loads</h5>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ActiveLoad\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useUser } from '../../contexts/UserContext'\r\nimport { getToken } from '../../utils/localStorageConfig'\r\n\r\n// components\r\nimport ProfileDetails from '../../components/ProfileDetails/ProfileDetails'\r\nimport ActiveLoad from '../../components/ProfileDetails/ActiveLoad'\r\n\r\nconst Profile = () => {\r\n\tconst [userRole, setUserRole] = useState(null)\r\n\tconst { getUserRole } = useUser()\r\n\tconst token = getToken()\r\n\r\n\tuseEffect(() => {\r\n\t\tconst getRole = async () => {\r\n\t\t\tconst role = await getUserRole(token)\r\n\t\t\tsetUserRole(role)\r\n\t\t}\r\n\t\tgetRole()\r\n\t}, [token, getUserRole])\r\n\r\n\treturn (\r\n\t\t<div className='container profile_container'>\r\n\t\t\t<ProfileDetails />\r\n\t\t\t{userRole === 'DRIVER' && <ActiveLoad />}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Profile\r\n","import React, { useState, useRef } from 'react'\r\nimport { useUser } from '../../contexts/UserContext'\r\nimport { getToken } from '../../utils/localStorageConfig'\r\n\r\nconst ChangePassword = () => {\r\n\tconst oldPasswordRef = useRef(null)\r\n\tconst newPasswordRef = useRef(null)\r\n\tconst [error, setError] = useState('')\r\n\tconst [success, setSuccess] = useState('')\r\n\tconst { changePassword } = useUser()\r\n\r\n\tconst handleSubmit = async (e) => {\r\n\t\te.preventDefault()\r\n\r\n\t\tconst oldPassword = oldPasswordRef.current.value\r\n\t\tconst newPassword = newPasswordRef.current.value\r\n\t\tconst token = getToken()\r\n\r\n\t\ttry {\r\n\t\t\tconst { data } = await changePassword(token, oldPassword, newPassword)\r\n\t\t\tsetError('')\r\n\t\t\tsetSuccess(data.message)\r\n\t\t} catch (error) {\r\n\t\t\tsetSuccess('')\r\n\t\t\tsetError('Someting went wrong. Please try again.')\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='d-flex flex-column align-items-center justify-content-center change_password_form'>\r\n\t\t\t<div className='container mb-5 sign_in_container'>\r\n\t\t\t\t<h2 className='text-center'>Change Password</h2>\r\n\r\n\t\t\t\t<form className='mt-5 mb-3 form' onSubmit={handleSubmit}>\r\n\t\t\t\t\t<div className='mb-3 input-group'>\r\n\t\t\t\t\t\t<span className='input-group-text' id='addon'>\r\n\t\t\t\t\t\t\tOld password\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<input type='text' className='form-control' id='oldPasswordInput' ref={oldPasswordRef} required />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='mb-3 input-group'>\r\n\t\t\t\t\t\t<span className='input-group-text' id='addon'>\r\n\t\t\t\t\t\t\tNew password\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<input type='text' className='form-control' id='newPasswordInput' ref={newPasswordRef} required />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<button type='submit' className='btn btn-primary mb-3'>\r\n\t\t\t\t\t\tChange\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t{success && <div className='text-small form-alert text-center text-success'>{success} </div>}\r\n\t\t\t\t\t{error && <div className='text-small form-alert text-center text-danger'>{error}</div>}\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ChangePassword\r\n","import React, { useContext } from 'react'\r\nimport axios from 'axios'\r\n\r\nconst TruckContext = React.createContext()\r\n\r\nexport const TruckProvider = ({ children }) => {\r\n\t// functions\r\n\tconst getTrucks = async (token) => {\r\n\t\treturn await axios.get('/api/trucks', {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `JWT ${token}`,\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n\r\n\tconst createTruck = async (token, type) => {\r\n\t\treturn await axios.post(\r\n\t\t\t'/api/trucks',\r\n\t\t\t{ type },\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `JWT ${token}`,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\r\n\tconst getTruckById = async (token, id) => {\r\n\t\treturn await axios.get(`/api/trucks/${id}`, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `JWT ${token}`,\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n\r\n\tconst editTruck = async (token, type, id) => {\r\n\t\treturn await axios.put(\r\n\t\t\t`/api/trucks/${id}`,\r\n\t\t\t{ type },\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `JWT ${token}`,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\r\n\tconst deleteTruck = async (token, id) => {\r\n\t\treturn await axios.delete(`/api/trucks/${id}`, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `JWT ${token}`,\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n\r\n\tconst assignTruck = async (token, id) => {\r\n\t\treturn await axios.post(\r\n\t\t\t`/api/trucks/${id}/assign`,\r\n\t\t\t{},\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `JWT ${token}`,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\r\n\tconst values = { getTrucks, createTruck, getTruckById, editTruck, deleteTruck, assignTruck }\r\n\treturn <TruckContext.Provider value={values}>{children}</TruckContext.Provider>\r\n}\r\n\r\nexport const useTruck = () => useContext(TruckContext)\r\n","import React from 'react'\r\n\r\nconst TruckForm = ({ title, truckRef, handleSubmit, success, error, type }) => {\r\n\treturn (\r\n\t\t<div className='my-5 d-flex flex-column align-items-center justify-content-center'>\r\n\t\t\t<div className='container my-5 sign_in_container'>\r\n\t\t\t\t<h2 className='text-center fw-bold'>{title}</h2>\r\n\r\n\t\t\t\t{type && (\r\n\t\t\t\t\t<p className='text-center fs-5 mt-5'>\r\n\t\t\t\t\t\tCurrent type is <span className='text-primary'>{type}</span>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<form className='mt-5 form' onSubmit={handleSubmit}>\r\n\t\t\t\t\t<div className='mb-3 input-group'>\r\n\t\t\t\t\t\t<span className='input-group-text' id='addon'>\r\n\t\t\t\t\t\t\tType\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<select className='form-select' ref={truckRef}>\r\n\t\t\t\t\t\t\t<option value='SPRINTER'>Sprinter</option>\r\n\t\t\t\t\t\t\t<option value='SMALL STRAIGHT'>Small Straight</option>\r\n\t\t\t\t\t\t\t<option value='LARGE STRAIGHT'>Large Straight</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<button type='submit' className='btn btn-primary mb-3'>\r\n\t\t\t\t\t\t{type ? 'Update' : 'Create'}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t{success && <div className='text-small form-alert text-center text-success'>{success}</div>}\r\n\t\t\t\t\t{error && <div className='text-small form-alert text-center text-danger'>{error}</div>}\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default TruckForm\r\n","import React, { useRef, useState } from 'react'\r\nimport { useTruck } from '../../contexts/TruckContext'\r\nimport { getToken } from '../../utils/localStorageConfig'\r\n\r\n// components\r\nimport TruckForm from '../../components/Forms/TruckForm'\r\n\r\nconst CreateTruck = () => {\r\n\tconst truckRef = useRef(null)\r\n\tconst { createTruck } = useTruck()\r\n\tconst [success, setSuccess] = useState('')\r\n\tconst [error, setError] = useState('')\r\n\r\n\tconst handleSubmit = async (e) => {\r\n\t\te.preventDefault()\r\n\r\n\t\tconst type = truckRef.current.value\r\n\t\tconst token = getToken()\r\n\r\n\t\ttry {\r\n\t\t\tconst { data } = await createTruck(token, type)\r\n\t\t\tsetError('')\r\n\t\t\tsetSuccess(data.message)\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetSuccess('')\r\n\t\t\t}, 800)\r\n\t\t} catch (error) {\r\n\t\t\tsetSuccess('')\r\n\t\t\tsetError(error.message)\r\n\t\t}\r\n\t}\r\n\r\n\tconst title = 'Create a new truck'\r\n\r\n\treturn <TruckForm title={title} truckRef={truckRef} handleSubmit={handleSubmit} error={error} success={success} />\r\n}\r\n\r\nexport default CreateTruck\r\n","import React, { useRef, useState, useEffect } from 'react'\r\nimport { useTruck } from '../../contexts/TruckContext'\r\nimport { getToken } from '../../utils/localStorageConfig'\r\nimport { useParams } from 'react-router-dom'\r\n\r\n// components\r\nimport TruckForm from '../../components/Forms/TruckForm'\r\n\r\nconst EditTruck = () => {\r\n\tconst truckRef = useRef(null)\r\n\tconst { editTruck, getTruckById } = useTruck()\r\n\tconst [success, setSuccess] = useState('')\r\n\tconst [error, setError] = useState('')\r\n\tconst [type, setType] = useState('')\r\n\tconst { id } = useParams()\r\n\r\n\tconst handleSubmit = async (e) => {\r\n\t\te.preventDefault()\r\n\r\n\t\tconst type = truckRef.current.value\r\n\t\tconst token = getToken()\r\n\r\n\t\ttry {\r\n\t\t\tconst { data } = await editTruck(token, type, id)\r\n\t\t\tsetError('')\r\n\t\t\tsetSuccess(data.message + ' Refresh to see changes.')\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetSuccess('')\r\n\t\t\t}, 800)\r\n\t\t} catch (error) {\r\n\t\t\tsetSuccess('')\r\n\t\t\tsetError(error.message)\r\n\t\t}\r\n\t}\r\n\r\n\tconst title = 'Edit type of the truck'\r\n\r\n\tuseEffect(() => {\r\n\t\tconst getTruckType = async () => {\r\n\t\t\tconst token = getToken()\r\n\t\t\tconst { data } = await getTruckById(token, id)\r\n\t\t\tsetType(data.truck.type)\r\n\t\t}\r\n\r\n\t\tgetTruckType()\r\n\t}, [getTruckById, id])\r\n\r\n\treturn (\r\n\t\t<TruckForm\r\n\t\t\ttitle={title}\r\n\t\t\ttruckRef={truckRef}\r\n\t\t\thandleSubmit={handleSubmit}\r\n\t\t\terror={error}\r\n\t\t\tsuccess={success}\r\n\t\t\ttype={type}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default EditTruck\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useUser } from '../../contexts/UserContext'\r\nimport { useTruck } from '../../contexts/TruckContext'\r\nimport { getToken } from '../../utils/localStorageConfig'\r\nimport { formatDate } from '../../utils/formatDate'\r\n\r\nconst TruckList = () => {\r\n\tconst headers = [`#`, 'Created by', 'Assigned to', 'Type', 'Status', 'Created date', 'Assign', 'Edit', 'Delete']\r\n\tconst { getTrucks, deleteTruck, assignTruck } = useTruck()\r\n\tconst { getUserEmail } = useUser()\r\n\tconst [trucks, setTrucks] = useState([])\r\n\tconst [userEmail, setUserEmail] = useState('')\r\n\tconst [success, setSuccess] = useState('')\r\n\tconst [error, setError] = useState('')\r\n\tconst token = getToken()\r\n\r\n\t// handlers\r\n\tconst deleteHandler = async (id) => {\r\n\t\ttry {\r\n\t\t\tconst { data } = await deleteTruck(token, id)\r\n\t\t\tsetError('')\r\n\t\t\tsetSuccess(data.message)\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetSuccess('')\r\n\t\t\t\twindow.location.reload()\r\n\t\t\t}, 500)\r\n\t\t} catch (error) {\r\n\t\t\tsetSuccess('')\r\n\t\t\tsetError('Something went wrong, please try again.')\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetError('')\r\n\t\t\t}, 500)\r\n\t\t}\r\n\t}\r\n\r\n\tconst assignHandler = async (id) => {\r\n\t\ttry {\r\n\t\t\tconst { data } = await assignTruck(token, id)\r\n\t\t\tsetError('')\r\n\t\t\tsetSuccess(data.message)\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetSuccess('')\r\n\t\t\t\twindow.location.reload()\r\n\t\t\t}, 500)\r\n\t\t} catch (error) {\r\n\t\t\tsetSuccess('')\r\n\t\t\tsetError('You already have an assigned truck.')\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetError('')\r\n\t\t\t}, 500)\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchTrucks = async () => {\r\n\t\t\tconst { data } = await getTrucks(token)\r\n\t\t\tsetTrucks(data.trucks)\r\n\t\t\tconst email = await getUserEmail(token)\r\n\t\t\tsetUserEmail(email)\r\n\t\t}\r\n\t\tfetchTrucks()\r\n\t}, [getTrucks, getUserEmail, token])\r\n\r\n\treturn (\r\n\t\t<div className='container'>\r\n\t\t\t{trucks.length > 0 && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<h2 className='text-center my-4 fw-bold'>The list of trucks</h2>\r\n\r\n\t\t\t\t\t{success && <div className='text-small form-alert text-center text-success my-3'>{success}</div>}\r\n\t\t\t\t\t{error && <div className='text-small form-alert text-center text-danger my-3'>{error}</div>}\r\n\r\n\t\t\t\t\t<table className='table table-hover'>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t{headers.map((header, idx) => (\r\n\t\t\t\t\t\t\t\t\t<th key={idx}>{header}</th>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{trucks.map((truck, idx) => (\r\n\t\t\t\t\t\t\t\t<tr key={idx}>\r\n\t\t\t\t\t\t\t\t\t<td>{idx + 1}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{userEmail}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{truck.assigned_to === null ? 'None' : userEmail}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{truck.type}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{truck.status}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{formatDate(truck.created_date)}</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-outline-dark ${truck.assigned_to ? 'active' : ''}`}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => assignHandler(truck._id)}>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-truck'></i>\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-outline-dark ${truck.assigned_to ? 'disabled' : ''}`}\r\n\t\t\t\t\t\t\t\t\t\t\tto={`/trucks/edit/${truck._id}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-pencil'></i>\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-outline-dark'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => deleteHandler(truck._id)}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={truck.assigned_to ? true : false}>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-trash'></i>\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default TruckList\r\n","import React from 'react'\r\n\r\nconst LoadForm = ({\r\n\ttitle,\r\n\thandleSubmit,\r\n\tsuccess,\r\n\terror,\r\n\tname,\r\n\tsetName,\r\n\tpayload,\r\n\tsetPayload,\r\n\tpickup,\r\n\tsetPickup,\r\n\tdelivery,\r\n\tsetDelivery,\r\n\twidth,\r\n\tsetWidth,\r\n\theight,\r\n\tsetHeight,\r\n\tlength,\r\n\tsetLength,\r\n\tisEdit,\r\n}) => {\r\n\treturn (\r\n\t\t<div className='my-5 d-flex flex-column align-items-center justify-content-center'>\r\n\t\t\t<div className='container my-3 sign_in_container'>\r\n\t\t\t\t<h2 className='text-center fw-bold'>{title}</h2>\r\n\r\n\t\t\t\t<form className='mt-5 form' onSubmit={handleSubmit}>\r\n\t\t\t\t\t<div className='mb-3 input-group'>\r\n\t\t\t\t\t\t<span className='input-group-text' id='addon'>\r\n\t\t\t\t\t\t\tName\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='mb-3 input-group'>\r\n\t\t\t\t\t\t<span className='input-group-text' id='addon'>\r\n\t\t\t\t\t\t\tPayload\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tvalue={payload}\r\n\t\t\t\t\t\t\tonChange={(e) => setPayload(e.target.value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='mb-3 input-group'>\r\n\t\t\t\t\t\t<span className='input-group-text' id='addon'>\r\n\t\t\t\t\t\t\tPickup address\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tvalue={pickup}\r\n\t\t\t\t\t\t\tonChange={(e) => setPickup(e.target.value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='mb-3 input-group'>\r\n\t\t\t\t\t\t<span className='input-group-text' id='addon'>\r\n\t\t\t\t\t\t\tDelivery address\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tvalue={delivery}\r\n\t\t\t\t\t\t\tonChange={(e) => setDelivery(e.target.value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='mb-3 input-group'>\r\n\t\t\t\t\t\t<span className='input-group-text' id='addon'>\r\n\t\t\t\t\t\t\tWidth\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tvalue={width}\r\n\t\t\t\t\t\t\tonChange={(e) => setWidth(Number(e.target.value))}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='mb-3 input-group'>\r\n\t\t\t\t\t\t<span className='input-group-text' id='addon'>\r\n\t\t\t\t\t\t\tHeight\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tvalue={height}\r\n\t\t\t\t\t\t\tonChange={(e) => setHeight(e.target.value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='mb-3 input-group'>\r\n\t\t\t\t\t\t<span className='input-group-text' id='addon'>\r\n\t\t\t\t\t\t\tLength\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tvalue={length}\r\n\t\t\t\t\t\t\tonChange={(e) => setLength(e.target.value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<button type='submit' className='btn btn-primary mb-3'>\r\n\t\t\t\t\t\t{isEdit ? 'Change' : 'Create'}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t{success && <div className='text-small form-alert text-center text-success'>{success}</div>}\r\n\t\t\t\t\t{error && <div className='text-small form-alert text-center text-danger'>{error}</div>}\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default LoadForm\r\n","import React, { useState } from 'react'\r\nimport { useLoad } from '../../contexts/LoadContext'\r\nimport { getToken } from '../../utils/localStorageConfig'\r\n\r\n// components\r\nimport LoadForm from '../../components/Forms/LoadForm'\r\n\r\nconst CreateLoad = () => {\r\n\t// states\r\n\tconst [name, setName] = useState('')\r\n\tconst [payload, setPayload] = useState('')\r\n\tconst [pickup, setPickup] = useState('')\r\n\tconst [delivery, setDelivery] = useState('')\r\n\tconst [width, setWidth] = useState('')\r\n\tconst [height, setHeight] = useState('')\r\n\tconst [length, setLength] = useState('')\r\n\tconst [error, setError] = useState('')\r\n\tconst [success, setSuccess] = useState('')\r\n\tconst { createLoad } = useLoad()\r\n\r\n\t// handlers\r\n\tconst handleSubmit = async (e) => {\r\n\t\te.preventDefault()\r\n\t\tconst token = getToken()\r\n\t\tconst load = {\r\n\t\t\tname,\r\n\t\t\tpayload,\r\n\t\t\tpickup_address: pickup,\r\n\t\t\tdelivery_address: delivery,\r\n\t\t\tdimensions: {\r\n\t\t\t\twidth,\r\n\t\t\t\tlength,\r\n\t\t\t\theight,\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tconst { data } = await createLoad(token, load)\r\n\t\t\tsetError('')\r\n\t\t\tsetSuccess(data.message)\r\n\r\n\t\t\tsetName('')\r\n\t\t\tsetPayload('')\r\n\t\t\tsetPickup('')\r\n\t\t\tsetDelivery('')\r\n\t\t\tsetWidth('')\r\n\t\t\tsetHeight('')\r\n\t\t\tsetLength('')\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetSuccess('')\r\n\t\t\t}, 800)\r\n\t\t} catch (error) {\r\n\t\t\tsetSuccess('')\r\n\t\t\tsetError(error.message)\r\n\t\t}\r\n\t}\r\n\r\n\tconst title = 'Create a new load'\r\n\treturn (\r\n\t\t<LoadForm\r\n\t\t\ttitle={title}\r\n\t\t\thandleSubmit={handleSubmit}\r\n\t\t\terror={error}\r\n\t\t\tsuccess={success}\r\n\t\t\tname={name}\r\n\t\t\tsetName={setName}\r\n\t\t\tpayload={payload}\r\n\t\t\tsetPayload={setPayload}\r\n\t\t\tpickup={pickup}\r\n\t\t\tsetPickup={setPickup}\r\n\t\t\tdelivery={delivery}\r\n\t\t\tsetDelivery={setDelivery}\r\n\t\t\twidth={width}\r\n\t\t\tsetWidth={setWidth}\r\n\t\t\theight={height}\r\n\t\t\tsetHeight={setHeight}\r\n\t\t\tlength={length}\r\n\t\t\tsetLength={setLength}\r\n\t\t\tisEdit={false}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default CreateLoad\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useLoad } from '../../contexts/LoadContext'\r\nimport { getToken } from '../../utils/localStorageConfig'\r\nimport { useParams } from 'react-router-dom'\r\n\r\n// components\r\nimport LoadForm from '../../components/Forms/LoadForm'\r\n\r\nconst EditLoad = () => {\r\n\t//  states\r\n\tconst [name, setName] = useState('')\r\n\tconst [payload, setPayload] = useState(0)\r\n\tconst [pickup, setPickup] = useState('')\r\n\tconst [delivery, setDelivery] = useState('')\r\n\tconst [width, setWidth] = useState(0)\r\n\tconst [height, setHeight] = useState(0)\r\n\tconst [length, setLength] = useState(0)\r\n\tconst [error, setError] = useState('')\r\n\tconst [success, setSuccess] = useState('')\r\n\tconst { getLoadById, editLoad } = useLoad()\r\n\tconst { id } = useParams()\r\n\tconst token = getToken()\r\n\r\n\t// handlers\r\n\tconst handleSubmit = async (e) => {\r\n\t\te.preventDefault()\r\n\t\tconst newLoad = {\r\n\t\t\tname,\r\n\t\t\tpayload,\r\n\t\t\tpickup_address: pickup,\r\n\t\t\tdelivery_address: delivery,\r\n\t\t\tdimensions: {\r\n\t\t\t\twidth,\r\n\t\t\t\tlength,\r\n\t\t\t\theight,\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tconst { data } = await editLoad(token, newLoad, id)\r\n\t\t\tsetError('')\r\n\t\t\tsetSuccess(data.message)\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetSuccess('')\r\n\t\t\t}, 800)\r\n\t\t} catch (error) {\r\n\t\t\tsetSuccess('')\r\n\t\t\tsetError(error.message)\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tconst getLoad = async () => {\r\n\t\t\tconst { data } = await getLoadById(token, id)\r\n\t\t\tconst { name, payload, pickup_address, delivery_address } = data.load\r\n\t\t\tsetName(name)\r\n\t\t\tsetPayload(payload)\r\n\t\t\tsetPickup(pickup_address)\r\n\t\t\tsetDelivery(delivery_address)\r\n\t\t\tsetWidth(data.load.dimensions.width)\r\n\t\t\tsetHeight(data.load.dimensions.height)\r\n\t\t\tsetLength(data.load.dimensions.length)\r\n\t\t}\r\n\t\tgetLoad()\r\n\t}, [getLoadById, id, token])\r\n\r\n\tconst title = 'Edit the load'\r\n\treturn (\r\n\t\t<LoadForm\r\n\t\t\ttitle={title}\r\n\t\t\thandleSubmit={handleSubmit}\r\n\t\t\terror={error}\r\n\t\t\tsuccess={success}\r\n\t\t\tname={name}\r\n\t\t\tsetName={setName}\r\n\t\t\tpayload={payload}\r\n\t\t\tsetPayload={setPayload}\r\n\t\t\tpickup={pickup}\r\n\t\t\tsetPickup={setPickup}\r\n\t\t\tdelivery={delivery}\r\n\t\t\tsetDelivery={setDelivery}\r\n\t\t\twidth={width}\r\n\t\t\tsetWidth={setWidth}\r\n\t\t\theight={height}\r\n\t\t\tsetHeight={setHeight}\r\n\t\t\tlength={length}\r\n\t\t\tsetLength={setLength}\r\n\t\t\tisEdit={true}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default EditLoad\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useUser } from '../../contexts/UserContext'\r\nimport { useLoad } from '../../contexts/LoadContext'\r\nimport { getToken } from '../../utils/localStorageConfig'\r\nimport { formatDate } from '../../utils/formatDate'\r\n\r\nconst headers = [\r\n\t`#`,\r\n\t'Name',\r\n\t'Creator',\r\n\t'Driver',\r\n\t'Status',\r\n\t'State',\r\n\t'Pickup Address',\r\n\t'Delivery Address',\r\n\t'Payload',\r\n\t'Dimensions (W-H-L)',\r\n\t'Created date',\r\n\t'View',\r\n\t'Post',\r\n\t'Edit',\r\n\t'Delete',\r\n]\r\n\r\nconst LoadList = () => {\r\n\tconst { getLoads, deleteLoad, postLoad } = useLoad()\r\n\tconst { getUserEmailById, getUserRole } = useUser()\r\n\tconst [loads, setLoads] = useState([])\r\n\tconst [creators, setCreators] = useState([])\r\n\tconst [drivers, setDrivers] = useState([])\r\n\tconst [userRole, setUserRole] = useState('')\r\n\tconst [success, setSuccess] = useState('')\r\n\tconst [error, setError] = useState('')\r\n\tconst token = getToken()\r\n\r\n\t// handlers\r\n\tconst deleteHandler = async (id) => {\r\n\t\ttry {\r\n\t\t\tconst { data } = await deleteLoad(token, id)\r\n\t\t\tsetError('')\r\n\t\t\tsetSuccess(data.message)\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetSuccess('')\r\n\t\t\t\twindow.location.reload()\r\n\t\t\t}, 500)\r\n\t\t} catch (error) {\r\n\t\t\tsetSuccess('')\r\n\t\t\tsetError('Something went wrong, please try again.')\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetError('')\r\n\t\t\t}, 1000)\r\n\t\t}\r\n\t}\r\n\r\n\tconst postLoadHandler = async (id) => {\r\n\t\ttry {\r\n\t\t\tconst { data } = await postLoad(token, id)\r\n\r\n\t\t\tif (data.driver_found) {\r\n\t\t\t\tsetError('')\r\n\t\t\t\tsetSuccess(data.message)\r\n\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tsetSuccess('')\r\n\t\t\t\t\twindow.location.reload()\r\n\t\t\t\t}, 800)\r\n\t\t\t} else {\r\n\t\t\t\tsetSuccess('')\r\n\t\t\t\tsetError(data.message)\r\n\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tsetError('')\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tsetSuccess('')\r\n\t\t\tsetError(error.message)\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetError('')\r\n\t\t\t}, 1000)\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchTrucks = async () => {\r\n\t\t\t// get loads from db\r\n\t\t\tconst { data } = await getLoads(token)\r\n\t\t\tsetLoads(data.loads)\r\n\r\n\t\t\t// get emails\r\n\t\t\tdata.loads.forEach(async (load) => {\r\n\t\t\t\tconst shipperEmail = await getUserEmailById(token, load.created_by)\r\n\t\t\t\tconst emailShipper = shipperEmail.data.userEmail\r\n\t\t\t\tsetCreators((prev) => [...prev, emailShipper])\r\n\r\n\t\t\t\tconst driverEmail = await getUserEmailById(token, load.assigned_to ?? 0)\r\n\t\t\t\tconst emailDriver = driverEmail.data.userEmail\r\n\t\t\t\tsetDrivers((prev) => [...prev, emailDriver])\r\n\t\t\t})\r\n\r\n\t\t\tconst role = await getUserRole(token)\r\n\t\t\tsetUserRole(role)\r\n\t\t}\r\n\t\tfetchTrucks()\r\n\t}, [getLoads, token, getUserRole, getUserEmailById])\r\n\r\n\treturn (\r\n\t\t<div className='container-fluid px-5'>\r\n\t\t\t{loads.length > 0 && creators.length > 0 ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<h2 className='text-center my-4 fw-bold'>The list of loads</h2>\r\n\r\n\t\t\t\t\t{success && <div className='text-small form-alert text-center text-success my-3'>{success}</div>}\r\n\t\t\t\t\t{error && <div className='text-small form-alert text-center text-danger my-3'>{error}</div>}\r\n\r\n\t\t\t\t\t<div className='table-responsive'>\r\n\t\t\t\t\t\t<table className='table table-hover load_table'>\r\n\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t{headers.map((header, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t<th key={idx} scope='col'>\r\n\t\t\t\t\t\t\t\t\t\t\t{header}\r\n\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t{loads.map((load, idx) => (\r\n\t\t\t\t\t\t\t\t\t<tr key={idx}>\r\n\t\t\t\t\t\t\t\t\t\t<th scope='row'>{idx + 1}</th>\r\n\t\t\t\t\t\t\t\t\t\t<td>{load.name}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{creators[0]}</td>\r\n\t\t\t\t\t\t\t\t\t\t{userRole === 'SHIPPER' ? <td>{drivers[idx] === null ? 'None' : drivers[idx]}</td> : <td>You</td>}\r\n\t\t\t\t\t\t\t\t\t\t<td>{load.status}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{load.state}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{load.pickup_address}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{load.delivery_address}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{load.payload}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{`${load.dimensions.width}-${load.dimensions.height}-${load.dimensions.length}`}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{formatDate(load.created_date)}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\tto={`/loads/${load._id}/shipping_info`}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-outline-dark ${userRole === 'DRIVER' ? 'disabled' : ''}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-eye'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-outline-dark ${load.assigned_to ? 'active' : ''}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => postLoadHandler(load._id)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={userRole === 'DRIVER'}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-truck'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-outline-dark ${\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tload.assigned_to || userRole === 'DRIVER' ? 'disabled' : ''\r\n\t\t\t\t\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\tto={`/loads/edit/${load._id}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-pencil'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-outline-dark'\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => deleteHandler(load._id)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={load.assigned_to || userRole === 'DRIVER' ? true : false}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-trash'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t''\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default LoadList\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport { useLoad } from '../../contexts/LoadContext'\r\nimport { getToken } from '../../utils/localStorageConfig'\r\nimport { formatDate } from '../../utils/formatDate'\r\nimport { useUser } from '../../contexts/UserContext'\r\n\r\nconst ShippingInfo = () => {\r\n\tconst [load, setLoad] = useState(null)\r\n\tconst [truck, setTruck] = useState(null)\r\n\tconst [userRole, setUserRole] = useState('')\r\n\tconst { getUserRole } = useUser()\r\n\tconst { getShippingInfo, getLoadById } = useLoad()\r\n\tconst token = getToken()\r\n\tconst { id } = useParams()\r\n\r\n\tuseEffect(() => {\r\n\t\tconst getLoad = async () => {\r\n\t\t\tconst { data } = await getLoadById(token, id)\r\n\t\t\tsetLoad(data.load)\r\n\r\n\t\t\tconst role = await getUserRole(token)\r\n\t\t\tsetUserRole(role)\r\n\t\t\tif (role === 'SHIPPER') {\r\n\t\t\t\tconst truckData = await getShippingInfo(token, id)\r\n\t\t\t\tsetTruck(truckData.data.truck)\r\n\t\t\t}\r\n\t\t}\r\n\t\tgetLoad()\r\n\t}, [getShippingInfo, token, id, getLoadById, getUserRole])\r\n\r\n\treturn (\r\n\t\t<div className='container'>\r\n\t\t\t{load && (\r\n\t\t\t\t<div className='loadlist_container'>\r\n\t\t\t\t\t<h3 className='text-center fw-bold my-3'>Shipping Info</h3>\r\n\t\t\t\t\t<p className='fs-5'>\r\n\t\t\t\t\t\t<span className='fw-bold'>Name: </span>\r\n\t\t\t\t\t\t{load.name}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p className='fs-5'>\r\n\t\t\t\t\t\t<span className='fw-bold'>Created by: </span>\r\n\t\t\t\t\t\t{load.created_by}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p className='fs-5'>\r\n\t\t\t\t\t\t<span className='fw-bold'>Driver: </span>\r\n\t\t\t\t\t\t{load.assigned_to}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p className='fs-5'>\r\n\t\t\t\t\t\t<span className='fw-bold'>Status: </span>\r\n\t\t\t\t\t\t{load.status}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p className='fs-5'>\r\n\t\t\t\t\t\t<span className='fw-bold'>State: </span>\r\n\t\t\t\t\t\t{load.state}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p className='fs-5'>\r\n\t\t\t\t\t\t<span className='fw-bold'>Pickup Address: </span>\r\n\t\t\t\t\t\t{load.pickup_address}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p className='fs-5'>\r\n\t\t\t\t\t\t<span className='fw-bold'>Delivery Address: </span>\r\n\t\t\t\t\t\t{load.delivery_address}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p className='fs-5'>\r\n\t\t\t\t\t\t<span className='fw-bold'>Payload: </span>\r\n\t\t\t\t\t\t{load.payload}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p className='fs-5'>\r\n\t\t\t\t\t\t<span className='fw-bold'>Dimensions (W-H-L): </span>\r\n\t\t\t\t\t\t{`${load.dimensions.width}-${load.dimensions.height}-${load.dimensions.length}`}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p className='fs-5'>\r\n\t\t\t\t\t\t<span className='fw-bold'>Created date: </span>\r\n\t\t\t\t\t\t{formatDate(load.created_date)}\r\n\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t{userRole === 'SHIPPER' && (\r\n\t\t\t\t\t\t<div className='logs'>\r\n\t\t\t\t\t\t\t<h3 className='text-center fw-bold my-3'>Logs</h3>\r\n\t\t\t\t\t\t\t{load.logs.map((log, idx) => (\r\n\t\t\t\t\t\t\t\t<div key={idx}>\r\n\t\t\t\t\t\t\t\t\t<p className='fs-5'>\r\n\t\t\t\t\t\t\t\t\t\t<span className='fw-bold'>Message: </span> {log.message}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<p className='fs-5'>\r\n\t\t\t\t\t\t\t\t\t\t<span className='fw-bold'>Created date: </span>\r\n\t\t\t\t\t\t\t\t\t\t{formatDate(log.time)}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{truck && (\r\n\t\t\t\t\t\t<div className='truck'>\r\n\t\t\t\t\t\t\t<h3 className='text-center fw-bold my-3'>Truck</h3>\r\n\t\t\t\t\t\t\t<p className='fs-5'>\r\n\t\t\t\t\t\t\t\t<span className='fw-bold'>Created by: </span>\r\n\t\t\t\t\t\t\t\t{truck.created_by}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className='fs-5'>\r\n\t\t\t\t\t\t\t\t<span className='fw-bold'>Assigned to: </span>\r\n\t\t\t\t\t\t\t\t{truck.assigned_to}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className='fs-5'>\r\n\t\t\t\t\t\t\t\t<span className='fw-bold'>Type: </span>\r\n\t\t\t\t\t\t\t\t{truck.type}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className='fs-5'>\r\n\t\t\t\t\t\t\t\t<span className='fw-bold'>Status: </span>\r\n\t\t\t\t\t\t\t\t{truck.status}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className='fs-5'>\r\n\t\t\t\t\t\t\t\t<span className='fw-bold'>Created date: </span>\r\n\t\t\t\t\t\t\t\t{formatDate(truck.created_date)}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ShippingInfo\r\n","import React, { useState, useEffect } from 'react'\nimport { Switch, Route, useLocation } from 'react-router-dom'\nimport { getToken } from './utils/localStorageConfig'\n\n// components\nimport PrivateRoute from './components/PrivateRoute/PrivateRoute'\nimport Nav from './components/Navbar/Nav'\n\n// pages\nimport SignUp from './pages/Auth/SignUp'\nimport SignIn from './pages/Auth/SignIn'\nimport ForgotPassword from './pages/Auth/ForgotPassword'\nimport Profile from './pages/Profile/Profile'\nimport ChangePassword from './pages/Auth/ChangePassword'\nimport CreateTruck from './pages/Truck/CreateTruck'\nimport EditTruck from './pages/Truck/EditTruck'\nimport TruckList from './pages/Truck/TruckList'\nimport CreateLoad from './pages/Load/CreateLoad'\nimport EditLoad from './pages/Load/EditLoad'\nimport LoadList from './pages/Load/LoadList'\nimport ShippingInfo from './pages/Load/ShippingInfo'\n\n// styles\nimport './App.css'\n\nconst App = () => {\n\tconst pathname = useLocation().pathname\n\tconst [isSignedIn, setIsSignedIn] = useState(false)\n\n\tuseEffect(() => {\n\t\tif (getToken()) setIsSignedIn(true)\n\t\telse setIsSignedIn(false)\n\t}, [pathname])\n\n\treturn (\n\t\t<div className='app'>\n\t\t\t{isSignedIn && <Nav />}\n\t\t\t<Switch>\n\t\t\t\t<Route path='/signup' component={SignUp} />\n\t\t\t\t<Route path='/signin' component={SignIn} />\n\t\t\t\t<Route path='/forgotpassword' component={ForgotPassword} />\n\t\t\t\t<PrivateRoute path='/profile/changepassword' component={ChangePassword} />\n\t\t\t\t<PrivateRoute path='/trucks/create' component={CreateTruck} />\n\t\t\t\t<PrivateRoute path='/trucks/edit/:id' component={EditTruck} />\n\t\t\t\t<PrivateRoute path='/trucks/list' component={TruckList} />\n\t\t\t\t<PrivateRoute path='/loads/create' component={CreateLoad} />\n\t\t\t\t<PrivateRoute path='/loads/list' component={LoadList} />\n\t\t\t\t<PrivateRoute path='/loads/edit/:id' component={EditLoad} />\n\t\t\t\t<PrivateRoute path='/loads/:id/shipping_info' component={ShippingInfo} />\n\t\t\t\t<PrivateRoute exact path='/' component={Profile} />\n\t\t\t</Switch>\n\t\t</div>\n\t)\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport { BrowserRouter } from 'react-router-dom'\nimport { AuthProvider } from './contexts/AuthContext'\nimport { UserProvider } from './contexts/UserContext'\nimport { TruckProvider } from './contexts/TruckContext'\nimport { LoadProvider } from './contexts/LoadContext'\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<AuthProvider>\n\t\t\t<UserProvider>\n\t\t\t\t<TruckProvider>\n\t\t\t\t\t<LoadProvider>\n\t\t\t\t\t\t<BrowserRouter>\n\t\t\t\t\t\t\t<App />\n\t\t\t\t\t\t</BrowserRouter>\n\t\t\t\t\t</LoadProvider>\n\t\t\t\t</TruckProvider>\n\t\t\t</UserProvider>\n\t\t</AuthProvider>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n)\n"],"sourceRoot":""}